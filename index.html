<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Finance Tracker</title>
  <link rel="stylesheet" href="/static/style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="container">
    <!-- Sidebar -->
    <nav class="sidebar">
      <h2>Finance</h2>
      <button onclick="showTab('dashboard')" class="active">Dashboard</button>
      <button onclick="showTab('transactions')">Transactions</button>
      <button onclick="showTab('settings')">Settings</button>
    </nav>

    <!-- Main Content -->
    <main class="content">
      <!-- Dashboard -->
      <section id="dashboard" class="active">
        <h1>Dashboard</h1>
        
        <div class="dashboard-layout">
          <!-- Add Transaction Form -->
          <div class="dashboard-form">
            <h2>Add Transaction</h2>
            <form id="dashboardTransactionForm" onsubmit="addTransaction(event)">
              <div class="form-row">
                <input type="text" id="dashCategory" placeholder="Category" required>
                <input type="number" id="dashAmount" placeholder="Amount" required>
              </div>
              <div class="form-row">
                <input type="date" id="dashDate" placeholder="Date (Optional)">
                <input type="text" id="dashDesc" placeholder="Description (Optional)">
              </div>
              <button type="submit" class="action">Add Transaction</button>
            </form>
          </div>

          <!-- Statistics -->
          <div class="stats-container">
            <h2>Statistics</h2>
            <div class="stats-grid">
              <div class="stat-card"><h3>Total Sum</h3><p id="statBalance">-</p></div>
              <div class="stat-card"><h3>Monthly Limit</h3><p id="statLimit">-</p></div>
              <div class="stat-card"><h3>Spent</h3><p id="statSpent">-</p></div>
              <div class="stat-card"><h3>Remaining</h3><p id="statRemaining">-</p></div>
              <div class="stat-card"><h3>Days Left</h3><p id="statDays">-</p></div>
              <div class="stat-card"><h3>Daily Budget</h3><p id="statDaily">-</p></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Transactions -->
      <section id="transactions">
        <h1>Show Transactions History</h1>
        <div class="transactions-layout">
          <div class="transactions-list">
            <div id="transactionsList"></div>
          </div>
          <div class="transactions-sidebar">
            <div class="chart-container">
              <canvas id="spendingChart"></canvas>
            </div>
          </div>
        </div>
      </section>

      <!-- Settings -->
      <section id="settings">
        <h1>Settings</h1>
        <form id="settingsForm" onsubmit="updateSettings(event)">
          <input type="number" id="setBalance" placeholder="Total Balance">
          <input type="number" id="setLimit" placeholder="Monthly Limit">
          <label>Start Date:</label>
          <input type="date" id="setStartDate">
          <label>End Date:</label>
          <input type="date" id="setEndDate">
          <button type="submit" class="action">Save Settings</button>
        </form>
        <p id="settingsMessage" class="msg"></p>
      </section>
    </main>
  </div>

  <!-- Edit Transaction Modal -->
  <div id="editModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeEditModal()">&times;</span>
      <h2>Edit Transaction</h2>
      <form id="editTransactionForm" onsubmit="updateTransaction(event)">
        <input type="hidden" id="editId">
        <input type="text" id="editCategory" placeholder="Category" required>
        <input type="number" id="editAmount" placeholder="Amount" required>
        <input type="date" id="editDate" required>
        <input type="text" id="editDesc" placeholder="Description">
        <button type="submit" class="action">Update Transaction</button>
      </form>
    </div>
  </div>

  <footer>
    Uddipt Shankar | 
    <a href="https://github.com/us005-bit" target="_blank">GitHub</a> | 
    <a href="https://www.linkedin.com/in/uddipt-shankar/" target="_blank">LinkedIn</a>
  </footer>

  <script src="/static/script.js"></script>
</body>
</html>
